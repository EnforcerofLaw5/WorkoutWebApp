<div *mobxAutorun class="add-exercise-box">
  <h3>Add Exercise</h3>

  <label>Exercise</label>
  <div class="exercise-search-container">
    <label for="exerciseSearch">Search Exercise</label>
    <input
      id="exerciseSearch"
      type="text"
      placeholder="Start typing to search..."
      (input)="searchTerm.next($event.target.value)"
      />

      @if (apiResults.length > 0) {
        <div class="search-results">
          @for (ex of apiResults; track ex) {
            <div
              class="search-result-item"
              (click)="selectExercise(ex)"
              >
              <strong>{{ ex.name }}</strong>
              <span class="muscle">{{ ex.primaryMuscle }}</span>
            </div>
          }
        </div>
      }
    </div>

    @if (exersiceStore.selectedExercise) {
      <div class="selected-exercise">
        <h4>Selected Exercise</h4>
        <p>{{ exersiceStore.selectedExercise.name }} â€“ {{ exersiceStore.selectedExercise.primaryMuscle }}</p>
      </div>

      <div class="exercise-inputs" [formGroup]="form">
        <label>Name</label>
        <input type="string" formControlName="name">

        <label>Sets</label>
        <input type="number" formControlName="sets">

        <label>Primary Muscle</label>
        <input type="string" formControlName="primaryMuscle">

        <label>Category</label>
        <input type="string" formControlName="category">
      </div>
    }
    <button (click)="addExercise()">Add</button>
  </div>